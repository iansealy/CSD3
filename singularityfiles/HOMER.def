Bootstrap: library
From: iansealy/alpine/alpine311:3.11.3

%labels
    Author Ian Sealy
    Version 4.11.1

%post
    apk --no-cache add perl
    apk --no-cache add --virtual build-dependencies build-base wget zip unzip bash
    mkdir /opt/HOMER
    cd /opt/HOMER
    wget http://homer.ucsd.edu/homer/configureHomer.pl
    perl configureHomer.pl -install
    perl configureHomer.pl -install danRer11
    mkdir data/promoters
    cd update
    echo -e "zebrafish\tdanRer11\tzebrafish\trefseq\tv6.4" > promoters.txt
    PATH="/opt/HOMER/bin:$PATH" perl updatePromoters.pl promoters.txt
    rm promoters.txt
    apk del build-dependencies

%environment
    export LANG=C.UTF-8
    export LC_ALL=C.UTF-8
    export PATH="/opt/HOMER/bin:$PATH"

%runscript
    /opt/HOMER/bin/findMotifs.pl "$@"

%help
    HOMER - Hypergeometric Optimization of Motif EnRichment
